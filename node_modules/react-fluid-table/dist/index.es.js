import e,{createElement as t,PureComponent as n,useRef as r,useState as i,useCallback as o,useEffect as a,createContext as l,useReducer as c,useContext as s,forwardRef as d,useLayoutEffect as u,useImperativeHandle as f}from"react";function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function E(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function M(e,t){var n;void 0===t&&(t=C);var r,i=[],o=!1;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,i)?r:(r=e.apply(this,a),o=!0,n=this,i=a,r)}}function k(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".react-fluid-table {\n  background-color: white;\n  border: 1px solid #ececec;\n}\n\n.react-fluid-table .cell,\n.react-fluid-table .header-cell {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 8px;\n}\n\n.react-fluid-table-container {\n  will-change: height;\n}\n\n.sticky-header {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 1;\n}\n\n.row-wrapper {\n  display: inline-block;\n}\n\n.react-fluid-table-header {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  background-color: #dedede;\n}\n\n.header-cell {\n  -webkit-align-items: baseline;\n  -webkit-box-align: baseline;\n  -ms-flex-align: baseline;\n  align-items: baseline;\n}\n\n.header-cell-text {\n  font-family: Helvetica;\n  font-weight: bold;\n  color: #7d7d7d;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.header-cell-arrow {\n  width: 0;\n  height: 0;\n  margin-left: 4px;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n}\n\n.header-cell-arrow.asc {\n  border-bottom: 10px solid #7d7d7d;\n}\n\n.header-cell-arrow.desc {\n  border-top: 10px solid #7d7d7d;\n}\n\n.react-fluid-table-row {\n  border-bottom: 1px solid #ececec;\n}\n\n.react-fluid-table-row:last-child {\n  border-bottom: none;\n}\n\n.row-container {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.cell {\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.expander {\n  cursor: pointer;\n  height: 1em;\n  width: 1em;\n}\n\n.hidden {\n  display: none;\n}\n");var W="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function z(e){cancelAnimationFrame(e.id)}var T=null;function R(e){if(void 0===e&&(e=!1),null===T||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?T="positive-descending":(t.scrollLeft=1,T=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),T}return T}process.env.NODE_ENV;var N=function(e,t){return e},P=null,D=null;function j(e){var r,i,o=e.getItemOffset,a=e.getEstimatedTotalSize,l=e.getItemSize,c=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,d=e.getStopIndexForStartIndex,u=e.initInstanceProps,f=e.shouldResetStyleCacheOnItemSizeChange,h=e.validateProps;return i=r=function(e){var n,r;function i(t){var n;return(n=e.call(this,t)||this)._instanceProps=u(n.props,O(O(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:O(O(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=M((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=M((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,r=n.props,i=r.direction,a=r.itemSize,c=r.layout,s=n._getItemStyleCache(f&&a,f&&c,f&&i);if(s.hasOwnProperty(e))t=s[e];else{var d,u=o(n.props,e,n._instanceProps),h=l(n.props,e,n._instanceProps),p="horizontal"===i||"horizontal"===c;s[e]=((d={position:"absolute"})["rtl"===i?"right":"left"]=p?u:0,d.top=p?0:u,d.height=p?"100%":h,d.width=p?h:"100%",t=d)}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=M((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,a=i;if("rtl"===t)switch(R()){case"negative":a=-i;break;case"positive-descending":a=o-r-i}return a=Math.max(0,Math.min(a,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){var e,t,r,i;null!==n._resetIsScrollingTimeoutId&&z(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=(e=n._resetIsScrolling,t=150,r=W(),i={id:requestAnimationFrame((function n(){W()-r>=t?e.call(null):i.id=requestAnimationFrame(n)}))})},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i.getDerivedStateFromProps=function(e,t){return A(e,t),h(e),null};var p=i.prototype;return p.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},p.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(c(this.props,e,t,r,this._instanceProps))},p.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},p.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(R()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var a=o.clientWidth,l=o.scrollWidth;o.scrollLeft=l-a-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},p.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&z(this._resetIsScrollingTimeoutId)},p.render=function(){var e=this.props,n=e.children,r=e.className,i=e.direction,o=e.height,l=e.innerRef,c=e.innerElementType,s=e.innerTagName,d=e.itemCount,u=e.itemData,f=e.itemKey,h=void 0===f?N:f,p=e.layout,m=e.outerElementType,v=e.outerTagName,y=e.style,g=e.useIsScrolling,w=e.width,b=this.state.isScrolling,x="horizontal"===i||"horizontal"===p,S=x?this._onScrollHorizontal:this._onScrollVertical,I=this._getRangeToRender(),E=I[0],O=I[1],C=[];if(d>0)for(var M=E;M<=O;M++)C.push(t(n,{data:u,key:h(M,u),index:M,isScrolling:g?b:void 0,style:this._getItemStyle(M)}));var k=a(this.props,this._instanceProps);return t(m||v||"div",{className:r,onScroll:S,ref:this._outerRefSetter,style:_({position:"relative",height:o,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},y)},t(c||s||"div",{children:C,ref:l,style:{height:x?"100%":k,pointerEvents:b?"none":void 0,width:x?k:"100%"}}))},p._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"==typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,l=o.scrollOffset,c=o.scrollUpdateWasRequested;this._callOnScroll(a,l,c)}},p._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,a=r.scrollOffset;if(0===t)return[0,0,0,0];var l=s(this.props,a,this._instanceProps),c=d(this.props,l,a,this._instanceProps),u=i&&"backward"!==o?1:Math.max(1,n),f=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,l-u),Math.max(0,Math.min(t-1,c+f)),l,c]},i}(n),r.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i}"production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&void 0!==window.WeakSet&&(P=new WeakSet,D=new WeakSet);var A=function(e,t){var n=e.children,r=e.direction,i=e.height,o=e.layout,a=e.innerTagName,l=e.outerTagName,c=e.width,s=t.instance;if("production"!==process.env.NODE_ENV){null==a&&null==l||D&&!D.has(s)&&(D.add(s),console.warn("The innerTagName and outerTagName props have been deprecated. Please use the innerElementType and outerElementType props instead."));var d="horizontal"===r||"horizontal"===o;switch(r){case"horizontal":case"vertical":P&&!P.has(s)&&(P.add(s),console.warn('The direction prop should be either "ltr" (default) or "rtl". Please use the layout prop to specify "vertical" (default) or "horizontal" orientation.'));break;case"ltr":case"rtl":break;default:throw Error('An invalid "direction" prop has been specified. Value should be either "ltr" or "rtl". "'+r+'" was specified.')}switch(o){case"horizontal":case"vertical":break;default:throw Error('An invalid "layout" prop has been specified. Value should be either "horizontal" or "vertical". "'+o+'" was specified.')}if(null==n)throw Error('An invalid "children" prop has been specified. Value should be a React component. "'+(null===n?"null":typeof n)+'" was specified.');if(d&&"number"!=typeof c)throw Error('An invalid "width" prop has been specified. Horizontal lists must specify a number for width. "'+(null===c?"null":typeof c)+'" was specified.');if(!d&&"number"!=typeof i)throw Error('An invalid "height" prop has been specified. Vertical lists must specify a number for height. "'+(null===i?"null":typeof i)+'" was specified.')}},H=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var a=0;if(o>=0){var l=i[o];a=l.offset+l.size}for(var c=o+1;c<=t;c++){var s=r(c);i[c]={offset:a,size:s},a+=s}n.lastMeasuredIndex=t}return i[t]},L=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),a=H(e,o,t).offset;if(a===i)return o;a<i?r=o+1:a>i&&(n=o-1)}return r>0?r-1:0},F=function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&H(e,n,t).offset<r;)n+=o,o*=2;return L(e,t,Math.min(n,i-1),Math.floor(n/2),r)},U=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,a=0;if(o>=n&&(o=n-1),o>=0){var l=r[o];a=l.offset+l.size}return a+(n-o-1)*i},q=j({getItemOffset:function(e,t,n){return H(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:U,getOffsetForIndexAndAlignment:function(e,t,n,r,i){var o=e.direction,a=e.height,l=e.layout,c=e.width,s="horizontal"===o||"horizontal"===l?c:a,d=H(e,t,i),u=U(e,i),f=Math.max(0,Math.min(u-s,d.offset)),h=Math.max(0,d.offset-s+d.size);switch("smart"===n&&(n=r>=h-s&&r<=f+s?"auto":"center"),n){case"start":return f;case"end":return h;case"center":return Math.round(h+(f-h)/2);case"auto":default:return r>=h&&r<=f?r:r<h?h:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?L(e,t,i,0,n):F(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,o=e.height,a=e.itemCount,l=e.layout,c=e.width,s="horizontal"===i||"horizontal"===l?c:o,d=H(e,t,r),u=n+s,f=d.offset+d.size,h=t;h<a-1&&f<u;)h++,f+=H(e,h,r).size;return h},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){var t=e.itemSize;if("production"!==process.env.NODE_ENV&&"function"!=typeof t)throw Error('An invalid "itemSize" prop has been specified. Value should be a function. "'+(null===t?"null":typeof t)+'" was specified.')}});function V(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}var B=function(t){var n=t.disableHeight,l=t.disableWidth,c=t.children,s=r(0),d=r(null),u=w(i({height:0,width:0}),2),f=u[0],h=u[1],p=f.height,m=f.width,v=o((function(){if(d.current&&d.current.parentElement){var e=d.current.parentElement,t=window.getComputedStyle(e),n=parseInt(t.paddingLeft)||0,r=parseInt(t.paddingRight)||0,i=parseInt(t.paddingTop)||0,o=parseInt(t.paddingBottom)||0,a=(e.offsetHeight||0)-i-o,l=(e.offsetWidth||0)-n-r;h({height:a,width:l})}}),[p,m,n,l]),y=o((function(){window.clearTimeout(s.current),s.current=window.setTimeout(v,40)}),[v]);return a((function(){return v()}),[]),a((function(){return window.addEventListener("resize",y),function(){window.clearTimeout(s.current),window.removeEventListener("resize",y)}}),[y,s]),e.createElement("div",{ref:d},p||m?c({height:n?0:p,width:l?0:m}):null)},K={scrollWidth:0,clientWidth:0},$={expanded:{},columns:[],pixelWidths:[],uuid:"",minColumnWidth:80,fixedWidth:0,remainingCols:0,sortColumn:null,sortDirection:null},G=["sortColumn","sortDirection","minColumnWidth","onSort","columns","tableStyle","headerStyle"],J=l({state:$,dispatch:function(){}}),Q=function(e){return e.reduce((function(e,t){return{fixedWidth:e.fixedWidth+(t.width||0),remainingCols:e.remainingCols+(void 0===t.width?1:0)}}),{fixedWidth:0,remainingCols:0})},X=function(e,t){switch(t.type){case"updateSortedColumn":return y({},e,{sortColumn:t.col,sortDirection:t.dir});case"updateExpanded":return y({},e,{expanded:y({},e.expanded,p({},t.key,!e.expanded[t.key]))});case"updatePixelWidths":return y({},e,{pixelWidths:t.widths});case"refresh":return y({},e,{},t.initialState);default:return e}},Y=function(t){var n=t.children,i=t.initialState,o=r(i),l=w(c(X,y({},$,{},i,{},Q(i.columns))),2),s=l[0],d=l[1];return a((function(){var e=function(e,t){var n=new Set;return G.forEach((function(r){e[r]!==t[r]&&n.add(r)})),n}(o.current,i);if(e.size){var t={};e.forEach((function(e){t[e]=i[e]})),t.columns&&(t=y({},t,{},Q(t.columns))),o.current=i,d({type:"refresh",initialState:t})}}),[o,i]),e.createElement(J.Provider,{value:{state:s,dispatch:d}},n)},Z=e.memo((function(t){var n=t.column,r=t.width,i=s(J),o=i.state,a=o.sortColumn,l=o.sortDirection,c=o.onSort,d=i.dispatch,u=l?l.toUpperCase():null,f={cursor:n.sortable?"pointer":void 0,width:r?"".concat(r,"px"):void 0,minWidth:r?"".concat(r,"px"):void 0},h=function(){if(n.sortable){var e=a,t=u,r="ASC",i=n.key;e===i&&(i=(r=t?"ASC"===t?"DESC":null:"ASC")?i:null),d({type:"updateSortedColumn",col:i,dir:r}),c&&c(i,r)}};if(!n.header||"string"==typeof n.header)return e.createElement("div",{className:"header-cell",onClick:h,style:f},n.header?e.createElement("div",{className:"header-cell-text"},n.header):null,n.key!==a?null:e.createElement("div",{className:"header-cell-arrow ".concat((u||"").toLowerCase())}));var p=n.header,m=n.key===a&&u||null;return e.createElement(p,{style:f,onClick:h,sortDirection:m})})),ee=d((function(t,n){var r=t.children,i=g(t,["children"]),o=s(J).state,a=o.id,l=o.uuid,c=o.columns,d=o.pixelWidths,u=o.headerStyle,f=n.current||K,h=f.scrollWidth<=f.clientWidth?"100%":void 0;return e.createElement("div",m({id:a,ref:n,"data-table-key":l,className:"react-fluid-table-container"},i),e.createElement("div",{className:"sticky-header","data-header-key":"".concat(l,"-header")},e.createElement("div",{className:"row-wrapper",style:{width:h}},e.createElement("div",{className:"react-fluid-table-header",style:u},c.map((function(t,n){return e.createElement(Z,{key:t.key,column:t,width:d[n]})}))))),e.createElement("div",{className:"row-wrapper"},r))}));ee.displayName="Header";var te=function e(t){h(this,e),p(this,"index",void 0),p(this,"height",void 0),this.index=t.index,this.height=t.height},ne=function e(){var t=this;h(this,e),re.set(this,{writable:!0,value:[]}),ie.set(this,{writable:!0,value:new Set}),p(this,"getMedian",(function(){if(!I(t,re).length)return 0;if(I(t,re).length%2==0){var e=I(t,re)[Math.floor(I(t,re).length/2)],n=I(t,re)[Math.ceil(I(t,re).length/2)];return(e.height+n.height)/2}var r=Math.floor(I(t,re).length/2);return I(t,re)[r].height})),p(this,"insert",(function(e){var n=Math.floor(I(t,re).length/2);t._insert(0,n,I(t,re).length,e)})),p(this,"clearFromIndex",(function(e){e<=0?(E(t,re,[]),I(t,ie).clear()):(E(t,re,I(t,re).filter((function(t){return t.index<e}))),E(t,ie,new Set(I(t,re).map((function(e){return e.index})))))})),p(this,"hasIndex",(function(e){return I(t,ie).has(e)})),p(this,"_insert",(function(e,n,r,i){var o=I(t,re)[n];if(o&&o.height!==i.height)if(i.height<o.height){if(n===e)return void t._addLeafNode(e,i);var a=Math.floor((n-e)/2);t._insert(e,a,n,i)}else{var l=Math.ceil((r+n)/2);if(l===r)return void t._addLeafNode(r,i);t._insert(n,l,r,i)}else t._addLeafNode(n,i)})),p(this,"_addLeafNode",(function(e,n){I(t,re).splice(e,0,new te(n)),I(t,ie).add(n.index)}))},re=new WeakMap,ie=new WeakMap;function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ae=t("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"});function le(e){return t("svg",oe({"aria-hidden":"true","data-prefix":"fas","data-icon":"minus-circle",className:"minus-circle_svg__svg-inline--fa minus-circle_svg__fa-minus-circle minus-circle_svg__fa-w-16",viewBox:"0 0 512 512"},e),ae)}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var se=t("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"});function de(e){return t("svg",ce({"aria-hidden":"true","data-prefix":"fas","data-icon":"plus-circle",className:"plus-circle_svg__svg-inline--fa plus-circle_svg__fa-plus-circle plus-circle_svg__fa-w-16",viewBox:"0 0 512 512"},e),se)}var ue=e.memo((function(t){var n=t.row,r=t.index,i=t.width,o=t.column,a=t.isExpanded,l=t.clearSizeCache,c=t.onExpanderClick,s={width:i?"".concat(i,"px"):void 0,minWidth:i?"".concat(i,"px"):void 0};if(o.expander){if("boolean"==typeof o.expander){var d=a?le:de;return(e.createElement("div",{className:"cell",style:s},e.createElement(d,{className:"expander",onClick:c})))}var u=o.expander;return(e.createElement(u,{style:s,isExpanded:a,onClick:c}))}if(!o.cell){var f=n[o.key]||null;if(o.content)if("string"==typeof o.content||"number"==typeof o.content)f=o.content;else{var h=o.content;f=e.createElement(h,{row:n,index:r,clearSizeCache:l})}return(e.createElement("div",{className:"cell",style:s},f))}var p=o.cell;return(e.createElement(p,{row:n,index:r,style:s,clearSizeCache:l}))})),fe=function(t){var n=t.row,r=t.index,i=t.children,a=t.onRowClick,l=t.containerStyle,c=t.rowRenderer,s=o((function(e){a&&a(e,{index:r})}),[r,a]);if(c){var d=y({},l,{display:"flex"});return(e.createElement(c,{row:n,index:r,style:d},i))}return(e.createElement("div",{className:"row-container",style:l,onClick:s},i))},he=function(t){var n=t.row,i=t.index,a=t.style,l=t.borders,c=t.rowStyle,d=t.rowHeight,f=t.onRowClick,h=t.useRowWidth,p=t.rowRenderer,m=t.clearSizeCache,v=t.calculateHeight,g=t.generateKeyFromRow,w=t.subComponent,b=r(!1),x=r(null),S=s(J),I=a.height,E=S.dispatch,_=S.state,O=_.uuid,C=_.columns,M=_.expanded,k=_.pixelWidths,W=g(n,i),z="".concat(O,"-").concat(W),T=!!M[W],R={row:n,index:i,isExpanded:T,clearSizeCache:m},N=l?void 0:"none",P=y({height:d?T&&w?d:"100%":void 0},function(e,t){return t?"function"==typeof t?t(e):t:{}}(i,c)),D=o((function(){E({type:"updateExpanded",key:g(n,i)}),b.current=!0}),[E,n,i,g,b]),j=o((function(){x.current&&k.length&&I!==v(x.current,i)&&m(i)}),[x,i,I,v,m,k]);return u((function(){b.current?m(i,!0):j(),b.current=!1}),[T,b,j,i,m]),e.createElement("div",{ref:x,className:"react-fluid-table-row","data-index":i,"data-row-key":z,style:y({},a,{borderBottom:N,width:h?a.width:void 0})},e.createElement(fe,{row:n,index:i,onRowClick:f,rowRenderer:p,containerStyle:P},C.map((function(t,r){return e.createElement(ue,{key:"".concat(O,"-").concat(t.key,"-").concat(W),row:n,column:t,index:i,width:k[r],isExpanded:T,clearSizeCache:m,onExpanderClick:D})}))),w?e.createElement("div",{className:T?void 0:"hidden"},e.createElement(w,R)):null)},pe=e.memo((function(t){var n=t.data,r=t.index,i=g(t,["data","index"]),o=r-1,a=n.rows,l=g(n,["rows"]),c=a[o];return c?e.createElement(he,m({row:c,index:o},i,l)):null}),(function(e,t){var n=e.style,r=k(e,["style"]),i=t.style,o=k(t,["style"]);return!V(n,i)&&!V(r,o)})),me=d((function(t,n){var r=t.style,i=t.children,o=g(t,["style","children"]),a=y({},s(J).state.tableStyle||{},{},r);return e.createElement("div",m({ref:n,style:a},o),i)})),ve=function(e,t){return document.querySelector("[data-row-key='".concat(e,"-").concat(t,"']"))},ye=d((function(t,n){var l=t.data,c=t.width,d=t.height,h=t.itemKey,p=t.rowHeight,m=t.className,v=g(t,["data","width","height","itemKey","rowHeight","className"]),x=r(0),S=r(c),I=r({}),E=r(null),_=r(new ne),O=r(null),C=s(J),M=w(i(!0),2),k=M[0],W=M[1],z=w(i(p||37),2),T=z[0],R=z[1],N=C.dispatch,P=C.state,D=P.uuid,j=P.columns,A=P.minColumnWidth,H=P.fixedWidth,L=P.remainingCols,F=P.pixelWidths,U=o((function(e,t){var n=h?h(e):void 0;return void 0!==n?n:t}),[h]),V=o((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(E.current){if(window.clearTimeout(x.current),t)return _.current.clearFromIndex(e),void E.current.resetAfterIndex(e+1);x.current=window.setTimeout((function(){var e,t=null===(e=O.current)||void 0===e?void 0:e.children[1].children[0],n=parseInt((null==t?void 0:t.dataset.index)||"0")+1;_.current.clearFromIndex(n),E.current.resetAfterIndex(n)}),50)}}),[E,O,x,_]),B=o((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="number"==typeof e?e:t,r=U(l[n],n),i="number"==typeof e?ve(D,r):e;if(!i)return I.current[n]||T;var o=b(i.children).slice(p?1:0),a=(p||0)+o.reduce((function(e,t){return e+t.offsetHeight}),0);return I.current[n]=a,a}),[D,l,p,T,U]),$=o((function(){var e=function(e,t,n,r,i){if(!e)return i.map((function(){return r}));var o=e.offsetWidth,a=Math.max(t,1),l=n,c=Math.max(o-l,0),s=Math.max(r,Math.floor(c/a));return i.map((function(e){if(e.width)return e.width;if(e.maxWidth&&s-e.maxWidth>0)return a=Math.max(a-1,1),l+=e.maxWidth,c=Math.max(o-l,0),s=Math.max(r,Math.floor(c/a)),e.maxWidth;if(e.minWidth&&e.minWidth-s>0)return a=Math.max(a-1,1),l+=e.minWidth,c=Math.max(o-l,0),s=Math.max(r,Math.floor(c/a)),e.minWidth;return s}))}(O.current,L,H,A,j);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(e,F)||N({type:"updatePixelWidths",widths:e})}),[N,L,H,A,F,j]),G=o((function(){var e,t=(null===(e=O.current)||void 0===e?void 0:e.parentElement)||K;W(t.scrollWidth<=t.clientWidth)}),[O]);return a((function(){var e=O.current||K;W(e.scrollWidth<=e.clientWidth)}),[]),a((function(){V(-1,!0),setTimeout((function(){$(),G()}),100)}),[]),u($,[c]),a(G,[c]),u((function(){S.current!==c&&(_.current.clearFromIndex(0),setTimeout((function(){if(O.current&&E.current){var e=0,t=0,n=E.current._instanceProps.itemMetadataMap||{};b(O.current.children[1].children).forEach((function(r,i){var o=r,a=parseInt(o.dataset.index||"0"),l=n[a+1].size,c=B(o,a);if(0===i)return e=parseInt(o.style.top),t=c,void(l!==c&&(o.style.height="".concat(c,"px")));var s=e+t;o.style.top="".concat(s,"px"),l!==c&&(o.style.height="".concat(c,"px")),e=s,t=c}))}}),0)),S.current=c}),[c,O,E,B]),a((function(){return function(){x.current&&window.clearTimeout(x.current)}}),[x]),f(n,(function(){return{scrollTo:function(e){return E.current.scrollTo(e)},scrollToItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";return E.current.scrollToItem(e,t)}}})),e.createElement(q,{className:"react-fluid-table ".concat(m||"").trim(),ref:E,innerRef:O,innerElementType:ee,outerElementType:me,height:d,width:c,itemCount:l.length+1,itemKey:function(e,t){if(!e)return"".concat(D,"-header");var n=e-1,r=t.rows[n];return U(r,e)},itemSize:function(e){if(!e){var t=function(e){return document.querySelector("[data-header-key='".concat(e,"-header']"))}(D);return t?t.children[0].offsetHeight:37}return B(e-1)},onItemsRendered:function(){if(!p&&O.current){b(O.current.children[1].children).forEach((function(e){var t=e,n=parseInt(t.dataset.index||"0");_.current.hasIndex(n)||_.current.insert({index:n,height:B(t,n)})}));var e=_.current.getMedian();e&&T!==e&&R(e)}},itemData:y({rows:l,rowHeight:p,useRowWidth:k,clearSizeCache:V,calculateHeight:B,generateKeyFromRow:U},v)},pe)})),ge=d((function(t,n){var r=t.id,o=t.columns,a=t.minColumnWidth,l=t.onSort,c=t.sortColumn,s=t.sortDirection,d=t.tableHeight,u=t.tableWidth,f=t.tableStyle,h=t.headerStyle,p=g(t,["id","columns","minColumnWidth","onSort","sortColumn","sortDirection","tableHeight","tableWidth","tableStyle","headerStyle"]),v=void 0!==d,y=void 0!==u,b=w(i("".concat(r||"data-table","-").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Math.random().toString(36).substr(2,e)}())),1)[0];return e.createElement(Y,{initialState:{id:r,uuid:b,columns:o,minColumnWidth:a,onSort:l,sortColumn:c,sortDirection:s,tableStyle:f,headerStyle:h}},"number"==typeof d&&"number"==typeof u?e.createElement(ye,m({ref:n,height:d,width:u},p)):e.createElement(B,{disableHeight:v,disableWidth:y},(function(t){var r,i=t.height,o=t.width;return(e.createElement(ye,m({ref:n,width:u||o,height:d||i||(r=p.rowHeight,10*Math.max(r||37,10)+37)},p)))})))}));ge.defaultProps={borders:!0,minColumnWidth:80};export{ge as Table};
