{"ast":null,"code":"var _jsxFileName = \"/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/Login/Login.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { setUserSession, getToken } from \"../utils/Common\";\nimport \"../Login/Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n  const [error, setError] = useState(null);\n\n  const handleLogin = () => {\n    axios.post('http://localhost:8000/login', {\n      username: username.value,\n      password: password.value\n    }).then(response => {\n      setUserSession(response.data.accessToken, response.data.username);\n      console.log(response);\n      props.history.push('/homepage');\n    }).catch(error => {\n      if (error.response.status === 401) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleLogin(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Username\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            ...username,\n            className: \"login-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 10\n          },\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            ...password,\n            className: \"login-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }, this), error && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: 'red'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 66\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 76\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"button\",\n          onClick: handleLogin,\n          className: \"login-button\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 93\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"BVnSoKxczu722DrEJi7JXBn7a4o=\", false, function () {\n  return [useFormInput, useFormInput];\n});\n\n_c = Login;\n\nconst useFormInput = initialValue => {\n  _s2();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s2(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/Login/Login.js"],"names":["React","useState","axios","setUserSession","getToken","Login","props","username","useFormInput","password","error","setError","handleLogin","post","value","then","response","data","accessToken","console","log","history","push","catch","status","message","e","preventDefault","marginTop","color","initialValue","setValue","handleChange","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport {setUserSession, getToken} from \"../utils/Common\";\n\nimport \"../Login/Login.css\";\nfunction Login(props){\nconst username=useFormInput(\"\");\nconst password=useFormInput(\"\");\nconst [error, setError]=useState(null);\n\n\nconst handleLogin=()=> {\n    \n    axios.post('http://localhost:8000/login',\n     { username: username.value, password: password.value })\n     .then(response => {\n     \n      setUserSession(response.data.accessToken, response.data.username);\n      console.log(response)\n      props.history.push('/homepage');\n    }).catch(error => {\n    \n      if (error.response.status === 401) setError(error.response.data.message);\n      else setError(\"Something went wrong. Please try again later.\");\n    });\n\n}\n\n    return (\n\n<>\n<div className=\"login\">\n\n\n<form \n onSubmit={e => {\n  e.preventDefault();\n  handleLogin(e);\n\n}}>\n      <div>\n        Username<br />\n        <input type=\"text\" {...username} className=\"login-input\" />\n      </div>\n      <div style={{ marginTop: 10 }}>\n        Password<br />\n        <input type=\"password\" {...password}  className=\"login-input\"  />\n      </div>\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n      <input type=\"submit\"  value=\"button\" onClick={handleLogin} className=\"login-button\" /><br />\n    \n      </form>\n    </div>\n</>\n\n    )\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n   \n    const handleChange = e => {\n      setValue(e.target.value);\n    }\n    return {\n      value,\n      onChange: handleChange\n    }\n  }\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}