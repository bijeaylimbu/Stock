{"ast":null,"code":"var _jsxFileName = \"/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/StockDashboard/StockDashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport \"../StockDashboard/StockDashboard.css\";\nimport Sidenav from '../Widget/Stocklist/Sidenav/SideNav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction StockDashBoard() {\n  _s();\n\n  const [stockname, setStockname] = useState([]);\n  const [totalInvest, setTotalInvest] = useState([]);\n  const [unit, setUnit] = useState([]);\n  const [sold, setSold] = useState([]); //   const all=[...stockname, ...allstock]\n  // console.log(all)\n  //   console.log(typeof(allstock))\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/all-stocks\").then(res => res.json()).then(result => {\n      // setStockname(result)\n      // console.log(result)\n      const allstock = result.map(x => x.stockname);\n      const unique = [...new Set(allstock)]; // setAllStock(unique)\n\n      setStockname(unique);\n      const investTotal = [];\n      const totalUnit = [];\n      const totalSold = [];\n\n      for (var i = 0; i <= unique.length - 1; i++) {\n        // const total=result.filter((item)=>item.stockname==unique[i]).map((item=>parseInt(item.amount)));\n        // const totalbuy=total.reduce((a,b)=>a+b)\n        // setTotalBuy(totalbuy)\n        //total invest\n        const total_inv = result.filter(item => item.stockname == unique[i]).map(item => item.amount); //total Unit\n\n        const total_unit = result.filter(item => item.stockname == unique[i]).map(item => item.quantity); //total sold\n\n        const total_sold = result.filter(item => item.stockname == unique[i] && (item.transactiontype == \"Buy\" || item.transactiontype == \"buy\")).map(item => item.amount); // console.log(total_sold)\n        // && (item.transactiontype==\"Buy\" || item.transactiontype==\"buy\")\n        //sum invest\n\n        const total_sum = total_inv.reduce((a, b) => parseInt(a) + parseInt(b)); //sum unit\n\n        const grandUnit = total_unit.reduce((a, b) => parseInt(a) + parseInt(b)); //  console.log(grandSold)\n        //   const grandSold=\"\";\n        //         //sum sold\n        //    if(total_sold>0){\n        // const grandSold=\"\";\n        // if(total_sold>=0 && total_sold!==null && total_sold !== undefined){\n        //     grandSold=total_sold.reduce((a,b)=>parseInt(a)+parseInt(b));\n        // }else {\n        //   return   grandSold==0;\n        // }\n        //  console.log(typeof(grandSold))\n        //    }else return null;\n        //pushing \n\n        investTotal.push(parseInt(total_sum));\n        totalUnit.push(parseInt(grandUnit)); // totalSold.push(grandSold)\n        // console.log(count)\n        // setAllStock(total)\n      }\n\n      setTotalInvest(investTotal);\n      setUnit(totalUnit); // setSold(totalSold)\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stockdashboard-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stokdashboard-part1\",\n        children: /*#__PURE__*/_jsxDEV(Sidenav, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stokdashboard-part2\",\n        children: stockname && stockname.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"td\",\n          children: [\"Company Name:     \", item, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), \"Total Investment:      \", totalInvest[index], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 8\n          }, this), \"Total Unit: \", unit[index], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n}\n\n_s(StockDashBoard, \"72hmW5X+Rf8kn/kOTQ9Pa+Md1Q0=\");\n\n_c = StockDashBoard;\nexport default StockDashBoard;\n\nvar _c;\n\n$RefreshReg$(_c, \"StockDashBoard\");","map":{"version":3,"sources":["/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/StockDashboard/StockDashboard.js"],"names":["React","useEffect","useState","Sidenav","StockDashBoard","stockname","setStockname","totalInvest","setTotalInvest","unit","setUnit","sold","setSold","fetch","then","res","json","result","allstock","map","x","unique","Set","investTotal","totalUnit","totalSold","i","length","total_inv","filter","item","amount","total_unit","quantity","total_sold","transactiontype","total_sum","reduce","a","b","parseInt","grandUnit","push","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport \"../StockDashboard/StockDashboard.css\"\nimport Sidenav from '../Widget/Stocklist/Sidenav/SideNav';\nfunction StockDashBoard(){\n\n\n  const[ stockname, setStockname]=useState([])\n  \n  const [totalInvest,setTotalInvest]=useState([]);\n\n  const [unit, setUnit]=useState([]);\n\n  const [sold, setSold]=useState([]);\n\n//   const all=[...stockname, ...allstock]\n\n// console.log(all)\n//   console.log(typeof(allstock))\n\n\n\n  useEffect(()=>{\n\n    fetch(\"http://localhost:8000/all-stocks\")\n    .then(res=>res.json())\n    .then(\n        (result)=>{\n\n            // setStockname(result)\n            // console.log(result)\n\n            const allstock=result.map(x=> x.stockname)\n            const unique=[...new Set(allstock)]\n\n            // setAllStock(unique)\n          setStockname(unique)\n          \n            \n\n            \n\n\n    \n\n          const investTotal=[];\n\n          const totalUnit=[];\n\n          const totalSold=[];\n            for (var i=0; i<=unique.length-1; i++){\n\n                // const total=result.filter((item)=>item.stockname==unique[i]).map((item=>parseInt(item.amount)));\n                // const totalbuy=total.reduce((a,b)=>a+b)\n             \n                // setTotalBuy(totalbuy)\n\n\n                //total invest\n                const total_inv= result.filter((item)=> item.stockname==unique[i]).map((item)=>item.amount)\n        //total Unit\n        const total_unit= result.filter((item)=> item.stockname==unique[i]).map((item)=>item.quantity)\n\n    //total sold\n    const total_sold= result.filter((item)=> (item.stockname==unique[i]) && (item.transactiontype==\"Buy\" || item.transactiontype==\"buy\") ).map((item)=>item.amount)\n// console.log(total_sold)\n\n\n\n // && (item.transactiontype==\"Buy\" || item.transactiontype==\"buy\")\n\n\n\n   \n        //sum invest\n\n                 const total_sum=total_inv.reduce((a,b)=>parseInt(a)+parseInt(b));\n                \n//sum unit\n\n        const grandUnit=total_unit.reduce((a,b)=>parseInt(a)+parseInt(b)); \n     \n       \n\n//  console.log(grandSold)\n//   const grandSold=\"\";\n\n//         //sum sold\n//    if(total_sold>0){\n \n// const grandSold=\"\";\n// if(total_sold>=0 && total_sold!==null && total_sold !== undefined){\n\n//     grandSold=total_sold.reduce((a,b)=>parseInt(a)+parseInt(b));\n    \n   \n\n// }else {\n\n//   return   grandSold==0;\n// }\n\n//  console.log(typeof(grandSold))\n\n\n\n//    }else return null;\n\n       \n\n             //pushing \n            investTotal.push(parseInt(total_sum))\n            totalUnit.push(parseInt(grandUnit));\n            // totalSold.push(grandSold)\n         \n\n\n\n\n            // console.log(count)\n\n\n            // setAllStock(total)\n\n  \n            \n            } \n            setTotalInvest(investTotal)\n            setUnit(totalUnit)\n            // setSold(totalSold)\n         \n\n\n        }\n\n\n    )\n  },[])\n\n  \n\n    return (\n\n\n        <>\n\n<div  className=\"stockdashboard-main\">\n\n<div className=\"stokdashboard-part1\">\n<Sidenav/>\n</div>\n\n<div className=\"stokdashboard-part2\">\n\n{\n   stockname && stockname.map((item,index)=>(\n\n        \n            <div className=\"td\">\n               \n       Company Name:     {item}\n            <br/>\n       Total Investment:      {totalInvest[index]}\n\n       <br/>\n\n       Total Unit: {unit[index]}\n\n\n\n            <br/>\n            <br/>\n            <br/>\n            <br/>\n\n                </div>\n          \n        \n    ))\n}\n\n{/* <table className=\"table\">\n\n  \n   <th className=\"th\">\n<tr className=\"td\"> Comapany Name</tr>\n       </th>\n \n\n\n<tr className=\"tr\">\n{\n   stockname && stockname.map(item=>(\n\n        \n            <td className=\"td\">\n            {item}\n                </td>\n          \n        \n    ))\n}\n</tr>\n\n<tr className=\"tr\">\n{\n   allstock && allstock.map(item=>(\n\n       \n    <td className=\"td\">\n            {item}\n            </td>\n        \n    ))\n}\n</tr>\n\n\n\n\n</table> */}\n</div>\n\n</div>\n        </>\n    );\n}\n\nexport default StockDashBoard;"]},"metadata":{},"sourceType":"module"}