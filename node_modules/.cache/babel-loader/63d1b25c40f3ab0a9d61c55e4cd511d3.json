{"ast":null,"code":"var _jsxFileName = \"/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/Login/Login.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n  const [error, setError] = useState(null);\n\n  const handleLogin = () => {\n    axios.post('http://localhost:4000/users/signin', {\n      username: username.value,\n      password: password.value\n    }).then(response => {\n      setLoading(false);\n      setUserSession(response.data.token, response.data.user);\n      props.history.push('/dashboard');\n    }).catch(error => {\n      setLoading(false);\n      if (error.response.status === 401) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Login\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Username\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ...username,\n          autoComplete: \"new-password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        children: [\"Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          ...password,\n          autoComplete: \"new-password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this), error && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 66\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 76\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        value: \"button\",\n        onClick: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 69\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"BVnSoKxczu722DrEJi7JXBn7a4o=\", false, function () {\n  return [useFormInput, useFormInput];\n});\n\n_c = Login;\n\nconst useFormInput = initialValue => {\n  _s2();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s2(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/Login/Login.js"],"names":["React","useState","axios","Login","props","username","useFormInput","password","error","setError","handleLogin","post","value","then","response","setLoading","setUserSession","data","token","user","history","push","catch","status","message","marginTop","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nfunction Login(props){\nconst username=useFormInput(\"\");\nconst password=useFormInput(\"\");\n\nconst [error, setError]=useState(null);\n\n\nconst handleLogin=()=> {\n    \n    axios.post('http://localhost:4000/users/signin', { username: username.value, password: password.value }).then(response => {\n      setLoading(false);\n      setUserSession(response.data.token, response.data.user);\n      props.history.push('/dashboard');\n    }).catch(error => {\n      setLoading(false);\n      if (error.response.status === 401) setError(error.response.data.message);\n      else setError(\"Something went wrong. Please try again later.\");\n    });\n\n}\n\n    return (\n\n<>\n<div>\n      Login<br /><br />\n      <div>\n        Username<br />\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\n      </div>\n      <div style={{ marginTop: 10 }}>\n        Password<br />\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\n      </div>\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n      <input type=\"button\"  value=\"button\" onClick={handleLogin}  /><br />\n    </div>\n</>\n\n    )\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n   \n    const handleChange = e => {\n      setValue(e.target.value);\n    }\n    return {\n      value,\n      onChange: handleChange\n    }\n  }\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}