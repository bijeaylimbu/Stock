{"ast":null,"code":"var _jsxFileName = \"/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/StockForm/StockForm.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport '../StockForm/StockForm.css';\nimport axios from 'axios';\nimport { getUser, removeUserSession } from \"../utils/Common\";\nimport Stocklist from '../Widget/Stocklist/Stocklist';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction StockForm(props) {\n  _s();\n\n  const stockname = useFormInput();\n  const transactiontype = useFormInput();\n  const quantity = useFormInput();\n  const buyingorsellingprice = useFormInput();\n  const [error, setError] = useState(null);\n  const user = getUser();\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  if (isNaN(target.quantity)) {\n    error = \"error\";\n  }\n\n  const handleSubmit = () => {\n    setError(null);\n    setLoading(true);\n    axios.post(\"http://localhost:8000/user-stock\", {\n      stockname: stockname.value,\n      transactiontype: transactiontype.value,\n      quantity: quantity.value,\n      buyingorsellingprice: buyingorsellingprice.value,\n      user: user\n    }).then(response => {}).catch(error => {\n      if (error.response.status == 400) {\n        // console.log(error.response.data.message);\n        setError(\"Cannot be null\");\n      } else {\n        setError(\"Cannot be null\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/all-stocks\").then(res => res.json()).then(result => {\n      setItems(result);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"stock-fill-form\",\n      children: [\"Stock Name:\", /*#__PURE__*/_jsxDEV(\"select\", { ...stockname,\n        className: \"stockname\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"----\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 1\n        }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n          children: item.stockname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 1\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 1\n      }, this), \"Transaction Type:\", /*#__PURE__*/_jsxDEV(\"select\", { ...transactiontype,\n        className: \"stockname\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"----\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Buy\",\n          children: \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Sell\",\n          children: \" Sell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 1\n      }, this), \"Quantity\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        ...quantity,\n        className: \"form-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 1\n      }, this), \"Buying or Selling price\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        ...buyingorsellingprice,\n        className: \"form-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 1\n      }, this), error && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 60\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 70\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        className: \"form-submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n}\n\n_s(StockForm, \"9jE7uT02sDDPIQwrrVEPY7cOTX4=\", false, function () {\n  return [useFormInput, useFormInput, useFormInput, useFormInput];\n});\n\n_c = StockForm;\n\nconst useFormInput = initialValue => {\n  _s2();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s2(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default StockForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"StockForm\");","map":{"version":3,"sources":["/media/bijay/583f95c8-a86a-4b11-8035-fb316c8eed2c/bijay/Reactjs Project/stock/src/StockForm/StockForm.js"],"names":["React","useEffect","useState","axios","getUser","removeUserSession","Stocklist","StockForm","props","stockname","useFormInput","transactiontype","quantity","buyingorsellingprice","error","setError","user","items","setItems","loading","setLoading","isNaN","target","handleSubmit","post","value","then","response","catch","status","fetch","res","json","result","map","item","color","initialValue","setValue","handleChange","e","onChange"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../StockForm/StockForm.css'\nimport axios from 'axios';\nimport {getUser, removeUserSession} from \"../utils/Common\";\nimport Stocklist from '../Widget/Stocklist/Stocklist';\n\n\n\n\n\nfunction StockForm(props){\n\n    const stockname=useFormInput()\n    const transactiontype=useFormInput()\n    const quantity=useFormInput()\n    const buyingorsellingprice=useFormInput()\n    const[error, setError]=useState(null)\n    const user=getUser();\n    const [items, setItems]=useState([])\n    const [loading, setLoading]=useState(false);\n\n    if (isNaN(target.quantity)){\n\n        error=\"error\"\n    }\n  \n\n  \n\n    const handleSubmit=()=>{\n        setError(null)\n        setLoading(true);\n\n        axios.post(\"http://localhost:8000/user-stock\",\n        {\n\n           \n\n            stockname:stockname.value,\n            transactiontype:transactiontype.value,\n            quantity:quantity.value,\n            buyingorsellingprice:buyingorsellingprice.value,\n            user: user\n            \n            \n        }\n        \n        ).then(\n\n            response=>{\n               \n            }\n        ).catch(error=>{\n          \n            if(error.response.status==400){\n                // console.log(error.response.data.message);\n                setError(\"Cannot be null\");\n\n            }\n\n            else       {\n\n                setError(\"Cannot be null\");\n            }    \n            \n            \n        })\n    }\n\n\n\n\nuseEffect(()=>{\n\n    fetch(\"http://localhost:8000/all-stocks\")\n    .then(res=>res.json())\n    .then(\n        (result)=>{\n\n            setItems(result);\n        }\n\n\n  )\n},\n[])\n\n\n    return (\n\n\n        <>\n\n<div class=\"stock-fill-form\">\n\n\n{/* <input type=\"text\" {...stockname} /> */}\n\n\n\n\nStock Name: \n<select {...stockname}  className=\"stockname\">\n<option value=\"\">----</option>\n    {items.map(item=>(\n       \n<option>\n    {item.stockname}\n</option>\n\n    ))}\n\n\n</select>\n\n<br/>\nTransaction Type:\n<select {...transactiontype} className=\"stockname\">\n\n<option >----</option>\n    <option value=\"Buy\">Buy</option>\n    <option value=\"Sell\"> Sell</option>\n</select>\n<br/>\nQuantity\n<input type=\"number\" {...quantity} className=\"form-input\" />\n\n<br/>\n\n\n\n{/* {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br /> */}\nBuying or Selling price\n<input type=\"number\" {...buyingorsellingprice} className=\"form-input\" />\n\n\n\n\n<br/>\n{error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n<br/>\n<button onClick={handleSubmit} className=\"form-submit\" >Submit</button>\n\n</div>\n\n\n        </>\n    );\n}\n\n\n\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n   \n    const handleChange = e => {\n      setValue(e.target.value);\n    }\n    return {\n      value,\n      onChange: handleChange\n    }\n  }\nexport default StockForm;"]},"metadata":{},"sourceType":"module"}